/*--------------------------------------------------------------
convert to em
--------------------------------------------------------------*/

@function em($target, $context: $base-font-size) {
	@if $target == 0 { @return 0 }
	@return $target / $context + 0em;
}

/*--------------------------------------------------------------
return color value from colors array
--------------------------------------------------------------*/

@function color($color){
	@if map-has-key($colors, $color) {

		$c : map-get($colors, $color);
		
		@if (type-of($c) == color){
			@return $c;	
		}
		@else if (type-of($c) == list){
			
			$function: nth($c, 1);
			$c1      : color(nth($c, 2));
			$value   : nth($c, 3);
			
			@if ($function == lighten){
				@return lighten($c1,$value);
			}
			@else if ($function == darken){
				@return darken($c1,$value);				
			}
			@warn "Unkown function: '#{$function}'";
			@return null;
		}
		@return color($c);
	}
	@warn "Unkown '#{$color}' in $colors.";
	@return null;
}

/*--------------------------------------------------------------
get value from nested array
--------------------------------------------------------------*/

@function map-deep-get($map, $keys...) {
	@each $key in $keys {
		$map: map-get($map, $key);
	}
	@return $map;
}